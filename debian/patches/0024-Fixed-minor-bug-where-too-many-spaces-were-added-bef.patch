From 14ed697f87da3ccbfac32952d28209d4c9ba7bc7 Mon Sep 17 00:00:00 2001
From: Paul Lesniewski <paul@squirrelmail.org>
Date: Wed, 9 Nov 2011 19:42:07 +0000
Subject: [PATCH 24/50] Fixed minor bug where too many spaces were added before
 XIMAPPROXY in the CAPABILITY string (thanks to Kirill Miazine)

git-svn-id: https://svn.code.sf.net/p/squirrelmail/code/trunk/imap_proxy@14148 7612ce4b-ef26-0410-bec9-ea0150e637f0
---
 ChangeLog  | 4 ++++
 src/main.c | 1 -
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/ChangeLog b/ChangeLog
index 4e597e4..8c41d34 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,3 +1,7 @@
+2011-11-09  Paul Lesniewski <paul@squirrelmail.org>
+	* Fixed minor bug where too many spaces were added before
+          XIMAPPROXY in the CAPABILITY string (thanks to Kirill Miazine)
+
 2011-04-17  Paul Lesniewski <paul@squirrelmail.org>
 	* Added configurable, arbitrary pre-authentication command
 	  that the administrator can use to send non-standard
diff --git a/src/main.c b/src/main.c
index 903e069..712aeeb 100644
--- a/src/main.c
+++ b/src/main.c
@@ -1078,7 +1078,6 @@ static int ParseBannerAndCapability( char *DestBuf,
 	     */
 	    endbracket = 0;
  	    inCap = 0;
-	    strcat( DestBuf, " " );
 	    strcat( DestBuf, " XIMAPPROXY]" );
 
 	    continue;
-- 
2.7.4

