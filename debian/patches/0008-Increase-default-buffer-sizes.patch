From 3cb52c8fb22ccf1a70042fe5d2e90b3c079836a3 Mon Sep 17 00:00:00 2001
From: Paul Lesniewski <paul@squirrelmail.org>
Date: Fri, 29 Oct 2010 01:47:00 +0000
Subject: [PATCH 08/50] Increase default buffer sizes

git-svn-id: https://svn.code.sf.net/p/squirrelmail/code/trunk/imap_proxy@14072 7612ce4b-ef26-0410-bec9-ea0150e637f0
---
 ChangeLog           | 2 ++
 include/imapproxy.h | 6 +++---
 2 files changed, 5 insertions(+), 3 deletions(-)

diff --git a/ChangeLog b/ChangeLog
index 95ccc28..ea19169 100644
--- a/ChangeLog
+++ b/ChangeLog
@@ -1,4 +1,6 @@
 2010-10-28  Paul Lesniewski <paul@squirrelmail.org>
+	* Increased default buffer sizes.
+
 	* Fixed possible buffer overflow issue and a few other small
           issues, complements Jose Celestino.  Thanks also to Tomas
           Lindroos.
diff --git a/include/imapproxy.h b/include/imapproxy.h
index 0598663..e58a5af 100644
--- a/include/imapproxy.h
+++ b/include/imapproxy.h
@@ -159,12 +159,12 @@
 #define PGM                     "in.imapproxyd"
 #define IMAP_UNTAGGED_OK        "* OK "           /* untagged OK response    */
 #define IMAP_TAGGED_OK          "1 OK "           /* tagged OK response      */
-#define BUFSIZE                 4096              /* default buffer size     */
+#define BUFSIZE                 8192              /* default buffer size     */
 #define MAX_CONN_BACKLOG        5                 /* tcp connection backlog  */
 #define MAXTAGLEN               256               /* max IMAP tag length     */
 #define MAXMAILBOXNAME          512               /* max mailbox name length */
-#define MAXUSERNAMELEN          64                /* max username length     */
-#define MAXPASSWDLEN            64                /* max passwd length       */
+#define MAXUSERNAMELEN          256               /* max username length     */
+#define MAXPASSWDLEN            8192              /* max passwd length       */
 #define POLL_TIMEOUT_MINUTES    30                /* Poll timeout in minutes */
 #define POLL_TIMEOUT            (POLL_TIMEOUT_MINUTES * 60000)
 #define SELECT_BUF_SIZE         BUFSIZE           /* max length of a SELECT  */
-- 
2.7.4

